(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c113e"],{4507:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_edit page_job_consultation",attrs:{id:"job_consultation_edit"}},[t("div",{staticClass:"warp"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row diy_edit_content_box"},[e.$check_field("set","regular_users")||e.$check_field("add","regular_users")||e.$check_field("get","regular_users")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(0),t("div",{staticClass:"diy_field diy_down"},[e.form["regular_users"]&&e.$check_field("set","regular_users")||!e.form["regular_users"]&&e.$check_field("add","regular_users")?t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["regular_users"],expression:"form['regular_users']"}],attrs:{id:"form_regular_users",disabled:e.disabledObj["regular_users_isDisabled"]},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"regular_users",t.target.multiple?i:i[0])}}},e._l(e.list_user_regular_users,(function(i){return t("option",{domProps:{value:i["user_id"]}},[e._v(" "+e._s(i["nickname"]+"-"+i["username"])+" ")])})),0):e.$check_field("get","regular_users")?t("span",[e._v(e._s(e.form["regular_users"]))]):e._e()])]):e._e(),e.$check_field("set","user_name")||e.$check_field("add","user_name")||e.$check_field("get","user_name")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(1),t("div",{staticClass:"diy_field diy_text"},[e.form["user_name"]&&e.$check_field("set","user_name")||!e.form["user_name"]&&e.$check_field("add","user_name")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["user_name"],expression:"form['user_name']"}],attrs:{type:"text",id:"form_user_name",placeholder:"请输入用户姓名",disabled:e.disabledObj["user_name_isDisabled"]},domProps:{value:e.form["user_name"]},on:{input:function(t){t.target.composing||e.$set(e.form,"user_name",t.target.value)}}}):e.$check_field("get","user_name")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","user_gender")||e.$check_field("add","user_gender")||e.$check_field("get","user_gender")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(2),t("div",{staticClass:"diy_field diy_text"},[e.form["user_gender"]&&e.$check_field("set","user_gender")||!e.form["user_gender"]&&e.$check_field("add","user_gender")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["user_gender"],expression:"form['user_gender']"}],attrs:{type:"text",id:"form_user_gender",placeholder:"请输入用户性别",disabled:e.disabledObj["user_gender_isDisabled"]},domProps:{value:e.form["user_gender"]},on:{input:function(t){t.target.composing||e.$set(e.form,"user_gender",t.target.value)}}}):e.$check_field("get","user_gender")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","contact_information")||e.$check_field("add","contact_information")||e.$check_field("get","contact_information")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(3),t("div",{staticClass:"diy_field diy_text"},[e.form["contact_information"]&&e.$check_field("set","contact_information")||!e.form["contact_information"]&&e.$check_field("add","contact_information")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["contact_information"],expression:"form['contact_information']"}],attrs:{type:"text",id:"form_contact_information",placeholder:"请输入联系方式",disabled:e.disabledObj["contact_information_isDisabled"]},domProps:{value:e.form["contact_information"]},on:{input:function(t){t.target.composing||e.$set(e.form,"contact_information",t.target.value)}}}):e.$check_field("get","contact_information")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","enterprise_users")||e.$check_field("add","enterprise_users")||e.$check_field("get","enterprise_users")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(4),t("div",{staticClass:"diy_field diy_down"},[e.form["enterprise_users"]&&e.$check_field("set","enterprise_users")||!e.form["enterprise_users"]&&e.$check_field("add","enterprise_users")?t("select",{directives:[{name:"model",rawName:"v-model",value:e.form["enterprise_users"],expression:"form['enterprise_users']"}],attrs:{id:"form_enterprise_users",disabled:e.disabledObj["enterprise_users_isDisabled"]},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"enterprise_users",t.target.multiple?i:i[0])}}},e._l(e.list_user_enterprise_users,(function(i){return t("option",{domProps:{value:i["user_id"]}},[e._v(" "+e._s(i["nickname"]+"-"+i["username"])+" ")])})),0):e.$check_field("get","enterprise_users")?t("span",[e._v(e._s(e.form["enterprise_users"]))]):e._e()])]):e._e(),e.$check_field("set","enterprise_id")||e.$check_field("add","enterprise_id")||e.$check_field("get","enterprise_id")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(5),t("div",{staticClass:"diy_field diy_text"},[e.form["enterprise_id"]&&e.$check_field("set","enterprise_id")||!e.form["enterprise_id"]&&e.$check_field("add","enterprise_id")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["enterprise_id"],expression:"form['enterprise_id']"}],attrs:{type:"text",id:"form_enterprise_id",placeholder:"请输入企业编号",disabled:e.disabledObj["enterprise_id_isDisabled"]},domProps:{value:e.form["enterprise_id"]},on:{input:function(t){t.target.composing||e.$set(e.form,"enterprise_id",t.target.value)}}}):e.$check_field("get","enterprise_id")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","enterprise_name")||e.$check_field("add","enterprise_name")||e.$check_field("get","enterprise_name")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(6),t("div",{staticClass:"diy_field diy_text"},[e.form["enterprise_name"]&&e.$check_field("set","enterprise_name")||!e.form["enterprise_name"]&&e.$check_field("add","enterprise_name")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["enterprise_name"],expression:"form['enterprise_name']"}],attrs:{type:"text",id:"form_enterprise_name",placeholder:"请输入企业名称",disabled:e.disabledObj["enterprise_name_isDisabled"]},domProps:{value:e.form["enterprise_name"]},on:{input:function(t){t.target.composing||e.$set(e.form,"enterprise_name",t.target.value)}}}):e.$check_field("get","enterprise_name")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","recruitment_positions")||e.$check_field("add","recruitment_positions")||e.$check_field("get","recruitment_positions")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(7),t("div",{staticClass:"diy_field diy_text"},[e.form["recruitment_positions"]&&e.$check_field("set","recruitment_positions")||!e.form["recruitment_positions"]&&e.$check_field("add","recruitment_positions")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["recruitment_positions"],expression:"form['recruitment_positions']"}],attrs:{type:"text",id:"form_recruitment_positions",placeholder:"请输入招聘职位",disabled:e.disabledObj["recruitment_positions_isDisabled"]},domProps:{value:e.form["recruitment_positions"]},on:{input:function(t){t.target.composing||e.$set(e.form,"recruitment_positions",t.target.value)}}}):e.$check_field("get","recruitment_positions")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","job_classification")||e.$check_field("add","job_classification")||e.$check_field("get","job_classification")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(8),t("div",{staticClass:"diy_field diy_text"},[e.form["job_classification"]&&e.$check_field("set","job_classification")||!e.form["job_classification"]&&e.$check_field("add","job_classification")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["job_classification"],expression:"form['job_classification']"}],attrs:{type:"text",id:"form_job_classification",placeholder:"请输入职位分类",disabled:e.disabledObj["job_classification_isDisabled"]},domProps:{value:e.form["job_classification"]},on:{input:function(t){t.target.composing||e.$set(e.form,"job_classification",t.target.value)}}}):e.$check_field("get","job_classification")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","work_city")||e.$check_field("add","work_city")||e.$check_field("get","work_city")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(9),t("div",{staticClass:"diy_field diy_text"},[e.form["work_city"]&&e.$check_field("set","work_city")||!e.form["work_city"]&&e.$check_field("add","work_city")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["work_city"],expression:"form['work_city']"}],attrs:{type:"text",id:"form_work_city",placeholder:"请输入工作城市",disabled:e.disabledObj["work_city_isDisabled"]},domProps:{value:e.form["work_city"]},on:{input:function(t){t.target.composing||e.$set(e.form,"work_city",t.target.value)}}}):e.$check_field("get","work_city")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","consultation_time")||e.$check_field("add","consultation_time")||e.$check_field("get","consultation_time")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(10),t("div",{staticClass:"diy_field diy_datetime"},[e.form["consultation_time"]&&e.$check_field("set","consultation_time")||!e.form["consultation_time"]&&e.$check_field("add","consultation_time")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["consultation_time"],expression:"form['consultation_time']"}],attrs:{type:"datetime-local",disabled:e.disabledObj["consultation_time_isDisabled"],id:"form_consultation_time",placeholder:"请输入咨询时间"},domProps:{value:e.form["consultation_time"]},on:{input:function(t){t.target.composing||e.$set(e.form,"consultation_time",t.target.value)}}}):e.$check_field("get","consultation_time")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","consultation_content")||e.$check_field("add","consultation_content")||e.$check_field("get","consultation_content")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(11),t("div",{staticClass:"diy_field diy_desc"},[e.form["consultation_content"]&&e.$check_field("set","consultation_content")||!e.form["consultation_content"]&&e.$check_field("add","consultation_content")?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form["consultation_content"],expression:"form['consultation_content']"}],attrs:{id:"form_consultation_content",disabled:e.disabledObj["consultation_content_isDisabled"]},domProps:{value:e.form["consultation_content"]},on:{input:function(t){t.target.composing||e.$set(e.form,"consultation_content",t.target.value)}}}):e.$check_field("get","consultation_content")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","reply_time")||e.$check_field("add","reply_time")||e.$check_field("get","reply_time")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(12),t("div",{staticClass:"diy_field diy_datetime"},[e.form["reply_time"]&&e.$check_field("set","reply_time")||!e.form["reply_time"]&&e.$check_field("add","reply_time")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form["reply_time"],expression:"form['reply_time']"}],attrs:{type:"datetime-local",disabled:e.disabledObj["reply_time_isDisabled"],id:"form_reply_time",placeholder:"请输入回复时间"},domProps:{value:e.form["reply_time"]},on:{input:function(t){t.target.composing||e.$set(e.form,"reply_time",t.target.value)}}}):e.$check_field("get","reply_time")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","reply_content")||e.$check_field("add","reply_content")||e.$check_field("get","reply_content")?t("div",{staticClass:"form-item col-12 col-md-6"},[e._m(13),t("div",{staticClass:"diy_field diy_desc"},[e.form["reply_content"]&&e.$check_field("set","reply_content")||!e.form["reply_content"]&&e.$check_field("add","reply_content")?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form["reply_content"],expression:"form['reply_content']"}],attrs:{id:"form_reply_content",disabled:e.disabledObj["reply_content_isDisabled"]},domProps:{value:e.form["reply_content"]},on:{input:function(t){t.target.composing||e.$set(e.form,"reply_content",t.target.value)}}}):e.$check_field("get","reply_content")?t("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e()]),t("div",{staticClass:"diy_edit_submit_box row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"btn_box"},[t("button",{staticClass:"btn_submit",on:{click:function(t){return e.submit()}}},[e._v("提交")])])])])])])])},r=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 普通用户: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 用户姓名: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 用户性别: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 联系方式: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 企业用户: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 企业编号: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 企业名称: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 招聘职位: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 职位分类: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 工作城市: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 咨询时间: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 咨询内容: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 回复时间: ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"diy_title"},[t("span",[e._v(" 回复内容: ")])])}],o=i("c6e7"),n={mixins:[o["a"]],components:{},data(){return{url_get_obj:"~/api/job_consultation/get_obj?",url_add:"~/api/job_consultation/add?",url_set:"~/api/job_consultation/set?",oauth:{signIn:!0,user_group:[]},query:{regular_users:0,user_name:"",user_gender:"",contact_information:"",enterprise_users:0,enterprise_id:"",enterprise_name:"",recruitment_positions:"",job_classification:"",work_city:"",consultation_time:"",consultation_content:"",reply_time:"",reply_content:"",job_consultation_id:0},obj:{regular_users:0,user_name:"",user_gender:"",contact_information:"",enterprise_users:0,enterprise_id:"",enterprise_name:"",recruitment_positions:"",job_classification:"",work_city:"",consultation_time:(new Date).getTime(),consultation_content:"",reply_time:(new Date).getTime(),reply_content:"",job_consultation_id:0},form:{regular_users:0,user_name:"",user_gender:"",contact_information:"",enterprise_users:0,enterprise_id:"",enterprise_name:"",recruitment_positions:"",job_classification:"",work_city:"",consultation_time:(new Date).getTime(),consultation_content:"",reply_time:(new Date).getTime(),reply_content:"",job_consultation_id:0},disabledObj:{regular_users_isDisabled:!1,user_name_isDisabled:!1,user_gender_isDisabled:!1,contact_information_isDisabled:!1,enterprise_users_isDisabled:!1,enterprise_id_isDisabled:!1,enterprise_name_isDisabled:!1,recruitment_positions_isDisabled:!1,job_classification_isDisabled:!1,work_city_isDisabled:!1,consultation_time_isDisabled:!1,consultation_content_isDisabled:!1,reply_time_isDisabled:!1,reply_content_isDisabled:!1},list_user_regular_users:[],list_user_enterprise_users:[],field:"job_consultation_id"}},methods:{submit_check(e){return e.consultation_time?e.reply_time?null:"回复时间不能为空":"咨询时间不能为空"},async get_list_user_regular_users(){var e=await this.$get("~/api/user/get_list?user_group=普通用户");e.result&&e.result.list?this.list_user_regular_users=e.result.list:e.error&&console.error(e.error)},async get_user_session_regular_users(){var e=this,t=await this.$get("~/api/user_group/get_obj?name=普通用户");if(t.result&&t.result.obj){var i=t.result.obj.source_table,s=e.$store.state.user.user_id;if(s){var r="~/api/"+i+"/get_obj?";this.$get(r,{user_id:e.$store.state.user.user_id},(function(t){if(t.result&&t.result.obj){var i=[];for(let e in t.result.obj)i.push(e);var r=[];for(let t in e.form)r.push(t);e.form["regular_users"]=s,e.disabledObj["regular_users_isDisabled"]=!0;for(var o=0;o<i.length;o++)if("examine_state"!==i[o]&&"examine_reply"!==i[o])for(var n=0;n<r.length;n++)if(i[o]===r[n]&&"regular_users"!==i[o]){e.form[r[n]]=t.result.obj[i[o]],e.disabledObj[r[n]+"_isDisabled"]=!0;break}}}))}}else t.error&&console.error(t.error)},async get_list_user_enterprise_users(){var e=await this.$get("~/api/user/get_list?user_group=企业用户");e.result&&e.result.list?this.list_user_enterprise_users=e.result.list:e.error&&console.error(e.error)},change_file(e,t){var i=new FormData;i.append("file",e[0]),this.$post("~/api/job_consultation/upload?",i,e=>{e.result?this.form[t]=e.result.url:e.error&&this.$toast(e.error.message)})},get_obj_before(e){var t=$.db.get("form");if(t){var i=[];for(let e in t)i.push(e);var s=[];for(let e in this.form)s.push(e);for(var r=0;r<i.length;r++)if("examine_state"!==i[r]&&"examine_reply"!==i[r])for(var o=0;o<s.length;o++)if(s[o]===i[r]){this.form[s[o]]=t[i[r]],this.obj[s[o]]=t[i[r]],this.disabledObj[s[o]+"_isDisabled"]=!0;break}}return this.form["consultation_time"]&&-1===JSON.stringify(this.form["consultation_time"]).indexOf("-")&&(this.form["consultation_time"]=this.$toTime(parseInt(this.form["consultation_time"]),"yyyy-MM-ddThh:mm")),this.form["reply_time"]&&-1===JSON.stringify(this.form["reply_time"]).indexOf("-")&&(this.form["reply_time"]=this.$toTime(parseInt(this.form["reply_time"]),"yyyy-MM-ddThh:mm")),$.db.del("form"),e},get_obj_after(e,t){t&&t(e)}},created(){this.get_user_session_regular_users(),this.get_list_user_regular_users(),this.get_list_user_enterprise_users()}},a=n,_=i("0b56"),l=Object(_["a"])(a,s,r,!1,null,null,null);t["default"]=l.exports}}]);