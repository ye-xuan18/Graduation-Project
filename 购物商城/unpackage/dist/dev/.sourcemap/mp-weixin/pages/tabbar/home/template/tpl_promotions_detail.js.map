{"version":3,"sources":["webpack:///D:/Desktop/code/ending/shop/pages/tabbar/home/template/tpl_promotions_detail.vue?bd4c","webpack:///D:/Desktop/code/ending/shop/pages/tabbar/home/template/tpl_promotions_detail.vue?1a08","webpack:///D:/Desktop/code/ending/shop/pages/tabbar/home/template/tpl_promotions_detail.vue?4f27","webpack:///D:/Desktop/code/ending/shop/pages/tabbar/home/template/tpl_promotions_detail.vue?fb5b","uni-app:///pages/tabbar/home/template/tpl_promotions_detail.vue","webpack:///D:/Desktop/code/ending/shop/pages/tabbar/home/template/tpl_promotions_detail.vue?c278","webpack:///D:/Desktop/code/ending/shop/pages/tabbar/home/template/tpl_promotions_detail.vue?c692"],"names":["props","data","timeLine","resTime","time","times","onlyOne","mounted","pageNumber","pageSize","status","promotionStatus","clearInterval","API_Promotions","ele","Foundation","console","methods","goToDetail","uni","url"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8I;AAC9I;AACyE;AACL;AACsC;;;AAG1G;AACoM;AACpM,gBAAgB,kMAAU;AAC1B,EAAE,2FAAM;AACR,EAAE,4GAAM;AACR,EAAE,qHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gHAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAuxB,CAAgB,wuBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACkE3yB;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IAAA;IACA;MACAC;MACAC;MACAC;MACAC;IACA;IACA;MACA;QACAC;MACA;QACA;QACA;MACA;IACA;IACA;MACA;QACA;UACAC;YACA;YACA;cACAC;YACA;UACA;UACA;QACA;UACAD;YACA;cACAC;cACA,yCACA;gBAAA;cAAA,EACA;cACA;cACA;cACA;cACA;cAEA,aACA,uCACA,4DACAC;cACA;cACAC;YACA;UACA;UACA;QACA;UACAH;YACA;cACAC;YACA;UACA;UACA;QACA;UACAD;YACA;cACAC;YACA;UACA;UACA;QACA;UACA;MAAA;IAEA;EACA;EACAG;IACA;IACAC;MACA;QACA;UACAC;YACAC;UACA;UACA;QACA;UACAD;YACAC;UACA;UACA;QACA;UACAD;YACAC;UACA;UACA;QACA;UACAD;YACAC;UACA;UACA;MAAA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3KA;AAAA;AAAA;AAAA;AAA89C,CAAgB,m0CAAG,EAAC,C;;;;;;;;;;;ACAl/C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/tabbar/home/template/tpl_promotions_detail.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tpl_promotions_detail.vue?vue&type=template&id=4645e7d8&scoped=true&\"\nvar renderjs\nimport script from \"./tpl_promotions_detail.vue?vue&type=script&lang=js&\"\nexport * from \"./tpl_promotions_detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tpl_promotions_detail.vue?vue&type=style&index=0&id=4645e7d8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4645e7d8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tabbar/home/template/tpl_promotions_detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tpl_promotions_detail.vue?vue&type=template&id=4645e7d8&scoped=true&\"","var components\ntry {\n  components = {\n    uImage: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.res.list, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var g0 = _vm.res.list.length\n    return {\n      $orig: $orig,\n      g0: g0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tpl_promotions_detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tpl_promotions_detail.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"layout\">\n    <div class=\"join-list\">\n      <div\n        v-for=\"(item, index) in res.list\"\n        :key=\"index\"\n        class=\"join-list-item\"\n        @click=\"goToDetail(item.type)\"\n      >\n        <div>\n          <div class=\"join-title\">\n            <div>{{ item.title }}</div>\n            <div\n              class=\"sub\"\n              v-if=\"item.type !== 'SECKILL'\"\n              :style=\"{\n                backgroundColor: item.bk_color,\n                color: item.color1,\n                borderColor: item.bk_color,\n              }\"\n            >\n              {{ item.title1 }}\n            </div>\n            <div class=\"sub-seckill\" v-else>\n              <div class=\"sub-seckill-block flex\">\n                <div class=\"sub-seckill-block-text\">\n                  {{ timeLine[0] ? timeLine[0].timeLine : \"x\" }}点场\n                </div>\n                {{ times.hours == \"00\" ? \"0\" : times.hours }}:{{\n                  times.minutes\n                }}:{{ times.seconds }}\n              </div>\n            </div>\n          </div>\n          <div class=\"join-box\">\n            <div\n              class=\"join-item\"\n              v-for=\"(i, _index) in item.data\"\n              :key=\"_index\"\n            >\n              <div class=\"item-img-box\">\n                <u-image\n                  class=\"item-img\"\n                  width=\"156rpx\"\n                  height=\"156rpx\"\n                  :src=\"i.thumbnail ? i.thumbnail : i.goodsImage\"\n                  alt\n                />\n              </div>\n              <div\n                class=\"ellipsis\"\n                :class=\"{ 'max-width': res.list.length <= 1 }\"\n              >\n                {{ i.goodsName ? i.goodsName : i.name }}\n              </div>\n              <div class=\"item-price\">\n                <span>￥{{ i.price ? i.price : i.originalPrice }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport * as API_Promotions from \"@/api/promotions\";\nimport Foundation from \"@/utils/Foundation.js\";\nexport default {\n  props: [\"res\"],\n  data() {\n    return {\n      timeLine: \"\", //获取几个点活动\n      resTime: 0, //当前时间\n      time: 0, //距离下一个活动的时间值\n      times: {}, //时间集合\n      onlyOne: \"\", //是否最后一个商品\n    };\n  },\n  mounted() {\n    let params = {\n      pageNumber: 1,\n      pageSize: 2,\n      status: \"START\",\n      promotionStatus: \"START\",\n    };\n    this._setTimeInterval = setInterval(() => {\n      if (this.time <= 0) {\n        clearInterval(this._setTimeInterval);\n      } else {\n        this.times = Foundation.countTimeDown(this.time);\n        this.time--;\n      }\n    }, 1000);\n    this.res.list.forEach((ele) => {\n      switch (ele.type) {\n        case \"PINTUAN\":\n          API_Promotions.getAssembleList(params).then((response) => {\n            const data = response.data.result.records;\n            if (data) {\n              ele.data = data;\n            }\n          });\n          break;\n        case \"SECKILL\":\n          API_Promotions.getSeckillTimeLine().then((response) => {\n            if (response.data.success && response.data.result) {\n              ele.data = response.data.result[0].seckillGoodsList.slice(0, 2);\n              let timeLine = response.data.result.sort(\n                (x, y) => Number(x.timeLine) - Number(y.timeLine)\n              );\n              this.timeLine = timeLine.slice(0, 5);\n              this.resTime = parseInt(new Date().getTime() / 1000);\n              this.onlyOne = response.data.result.length === 1;\n              this.diffTime = parseInt(new Date().getTime() / 1000) - this.resTime;\n\n              this.time =\n                this.timeLine[0].distanceStartTime ||\n                (this.timeLine[1] && this.timeLine[1].distanceStartTime) ||\n                Foundation.theNextDayTime() - this.diffTime;\n              this.times = Foundation.countTimeDown(this.time);\n              console.log(this.timeLine);\n            }\n          });\n          break;\n        case \"LIVE\":\n          API_Promotions.getLiveList(params).then((response) => {\n            if (response.success && response.result.records) {\n              ele.data = response.result.records[0].commodityList.slice(0, 2);\n            }\n          });\n          break;\n        case \"KANJIA\":\n          API_Promotions.getBargainList(params).then((response) => {\n            if (response.success && response.result) {\n              ele.data = response.result.records(0, 2);\n            }\n          });\n          break;\n        default:\n          break;\n      }\n    });\n  },\n  methods: {\n    //跳转详情\n    goToDetail(type) {\n      switch(type) {\n        case \"SECKILL\":\n          uni.navigateTo({\n            url: `/pages/promotion/seckill`,\n          });\n          break;\n        case \"PINTUAN\":\n          uni.navigateTo({\n            url: `/pages/promotion/joinGroup`,\n          });\n          break;\n        case \"LIVE\":\n          uni.navigateTo({\n            url: `/pages/promotion/lives`,\n          });\n          break;\n        case \"KANJIA\":\n          uni.navigateTo({\n            url: `/pages/promotion/bargain/list`,\n          });\n          break;\n      };\n    }\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import \"./tpl.scss\";\n.join-box {\n  display: flex;\n}\n.join-list {\n  width: 100%;\n  display: flex;\n  overflow: hidden;\n}\n.join-list-item {\n  flex: 1;\n}\n.ellipsis {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 108rpx; // 大于1个活动\n  font-size: 22rpx;\n}\n.max-width {\n  width: 316rpx !important;\n}\n.item-price {\n  > span {\n    font-size: 28rpx;\n    font-weight: 500;\n    color: #e1212b;\n  }\n}\n.join-item {\n  flex: 1;\n}\n.item-img {\n  width: 150rpx;\n  height: 150rpx;\n  margin: 0 auto;\n  display: block;\n}\n.item-img-box {\n  position: relative;\n}\n.item-line-through {\n  > span {\n    font-size: 20rpx;\n    font-weight: 400;\n    text-decoration: line-through;\n    color: #999;\n  }\n}\n.item-position-tips {\n  position: absolute;\n  right: 0;\n  color: #fff;\n  font-size: 24rpx;\n  bottom: 0;\n}\n.join-title {\n  display: flex;\n\n  align-items: center;\n  background: #fff;\n  height: 100rpx;\n  > div:nth-of-type(1) {\n    font-size: 30rpx;\n    font-weight: bold;\n  }\n  > div:nth-of-type(2) {\n    font-size: 20rpx;\n    line-height: 1.75;\n    border-radius: 16rpx;\n    text-align: center;\n    padding: 0 16rpx;\n    margin-left: 20rpx;\n  }\n  .sub {\n    background-color: #e1212b;\n    margin-right: 80rpx;\n  }\n  .sub-seckill {\n    white-space: nowrap;\n    padding: 0 !important;\n  }\n  .sub-seckill-block {\n    background: rgba($main-color, 0.3);\n    border-radius: 100px !important;\n    color: rgba($main-color, 0.7);\n    overflow: hidden;\n    padding-right: 8rpx;\n  }\n  .sub-seckill-block-text {\n    background-color: $main-color;\n    color: #fff;\n    border-top-right-radius: 100px;\n    border-bottom-right-radius: 100px;\n    padding: 0 12rpx !important;\n    margin-right: 12rpx;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tpl_promotions_detail.vue?vue&type=style&index=0&id=4645e7d8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tpl_promotions_detail.vue?vue&type=style&index=0&id=4645e7d8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1730077890571\n      var cssReload = require(\"D:/Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}