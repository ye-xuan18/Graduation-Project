{"version":3,"sources":["webpack:///D:/Desktop/code/ending/shop/pages/order/invoice/setInvoice.vue?2888","webpack:///D:/Desktop/code/ending/shop/pages/order/invoice/setInvoice.vue?790c","webpack:///D:/Desktop/code/ending/shop/pages/order/invoice/setInvoice.vue?3daf","webpack:///D:/Desktop/code/ending/shop/pages/order/invoice/setInvoice.vue?93cc","uni-app:///pages/order/invoice/setInvoice.vue","webpack:///D:/Desktop/code/ending/shop/pages/order/invoice/setInvoice.vue?a4a4","webpack:///D:/Desktop/code/ending/shop/pages/order/invoice/setInvoice.vue?36c6"],"names":["props","watch","invoiceHeader","handler","deep","goodsType","data","taxpayerFlag","submitData","receiptTitle","taxpayerId","receiptContent","show","title","tips","invoiceType","active","disabled","mounted","methods","handleClickHeader","arr","val","close","submitInvoice","uni","duration","icon"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACiM;AACjM,gBAAgB,kMAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8MAEN;AACP,KAAK;AACL;AACA,aAAa,oQAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAA6vB,CAAgB,6tBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACqDjxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;EACAC;IACAC;MACAC;QACA;UACA;QACA;QACA;QACA;QAEA;UACA;QACA;MACA;MACAC;IACA;IACAC;MACAF;QACA;UACA;QACA;MACA;MACAC;IACA;EACA;EAEAE;IACA;MACAC;MACAC;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;MACAC;MACAC;MACAC,MACA;MACA;MACAC,cACA;QACAF;QACAG;MACA,GACA;QACAH;QACAG;QACAC;MACA,EACA;MACA;MACAf,gBACA;QACAW;QACAG;MACA,GACA;QACAH;QACAG;MACA,EACA;MACA;MACAX,YACA;QACAQ;QACAG;MACA,GACA;QACAH;QACAG;MACA;IAEA;EACA;EACAE;IACA;MACA;MACA;MACA;MACA,oCACA,kCACA;MACA,sBACA,sCACA;IACA;MACA;MACA;IACA;EAEA;EACAC;IACAC;MACAC;QACA;MACA;MACAC;IACA;IACA;AACA;AACA;IACAC;MACA;IACA;IACAC;MACA;AACA;AACA;MACA;QAAAf;QAAAC;QAAAC;MAEA;QACAc;UACAZ;UACAa;UACAC;QACA;QACA;MACA;MACA,IACA,uCACA,oCACA,sCACA;QACAF;UACAZ;UACAa;UACAC;QACA;QAEA;MACA;MAEA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/LA;AAAA;AAAA;AAAA;AAAw7C,CAAgB,wzCAAG,EAAC,C;;;;;;;;;;;ACA58C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/invoice/setInvoice.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./setInvoice.vue?vue&type=template&id=234d6532&scoped=true&\"\nvar renderjs\nimport script from \"./setInvoice.vue?vue&type=script&lang=js&\"\nexport * from \"./setInvoice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setInvoice.vue?vue&type=style&index=0&id=234d6532&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"234d6532\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/invoice/setInvoice.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setInvoice.vue?vue&type=template&id=234d6532&scoped=true&\"","var components\ntry {\n  components = {\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setInvoice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setInvoice.vue?vue&type=script&lang=js&\"","<template>\n  <u-popup closeable border-radius=\"28\" @close=\"close\" mode=\"bottom\" height=\"80%\" v-model=\"show\">\n\n    <div class=\"wrapper\">\n      <!-- 发票类型 -->\n      <div class=\"invoice-title\">发票类型</div>\n      <div class=\"flex\">\n        <div class=\"invoice-item\" :class=\"{'active':typeItem.active,disabled:typeItem.disabled}\" v-for=\"(typeItem,index) in invoiceType\" :key=\"index\">\n          {{typeItem.title}}\n        </div>\n      </div>\n      <div class=\"tips\">\n        {{tips}}\n      </div>\n      <div class=\"divider\">\n      </div>\n      <!-- 发票抬头 -->\n      <div class=\"invoice-title\">发票抬头</div>\n\n      <div class=\"flex\">\n        <div class=\"invoice-item\" @click=\"handleClickHeader(headerItem,index,invoiceHeader)\" :class=\"{'active':headerItem.active,disabled:headerItem.disabled}\"\n          v-for=\"(headerItem,index) in invoiceHeader\" :key=\"index\">\n          {{headerItem.title}}\n        </div>\n      </div>\n      <div>\n        <div class=\"form-item\">\n          <span> {{title}}名称</span>\n          <u-input :placeholder=\"'请输入'+title+'名称'\" v-model=\"submitData.receiptTitle\" />\n        </div>\n        <div class=\"form-item\" v-if=\"taxpayerFlag\">\n          <span>纳税人识别号</span>\n          <u-input placeholder=\"请输入纳税人识别号\" v-model=\"submitData.taxpayerId\" />\n        </div>\n\n      </div>\n      <div class=\"divider\">\n      </div>\n      <div class=\"invoice-title\">\n        发票信息\n      </div>\n      <div class=\"flex\">\n        <div class=\"invoice-item\" @click=\"handleClickHeader(goodsItem,index,goodsType)\" :class=\"{'active':goodsItem.active,disabled:goodsItem.disabled}\" v-for=\"(goodsItem,index) in goodsType\"\n          :key=\"index\">\n          {{goodsItem.title}}\n        </div>\n      </div>\n\n      <div class=\"submit\" @click=\"submitInvoice()\">确定</div>\n    </div>\n  </u-popup>\n</template>\n<script>\nimport { addReceipt } from \"@/api/members\";\nexport default {\n  props: [\"res\"],\n  watch: {\n    invoiceHeader: {\n      handler(val) {\n        this.title = val.filter((item) => {\n          return item.active == true;\n        })[0].title;\n        this.taxpayerFlag = false;\n        this.submitData.taxpayerId = \"\";\n\n        if (this.title == \"单位\") {\n          this.taxpayerFlag = true;\n        }\n      },\n      deep: true,\n    },\n    goodsType: {\n      handler(val) {\n        this.submitData.receiptContent = val.filter((item) => {\n          return item.active == true;\n        })[0].title;\n      },\n      deep: true,\n    },\n  },\n\n  data() {\n    return {\n      taxpayerFlag: false,\n      submitData: {\n        receiptTitle: \"\", //发票抬头\n        taxpayerId: \"\", //纳税人\n        receiptContent: \"\",\n      },\n      show: true,\n      title: \"\",\n      tips:\n        \"电子发票即电子增值税发票，是税局认可的有效凭证，其法律效力、基本用途及使用规定同纸质发票。\",\n      //   发票类型\n      invoiceType: [\n        {\n          title: \"电子普通发票\",\n          active: true,\n        },\n        {\n          title: \"增值税专用发票\",\n          active: false,\n          disabled: true,\n        },\n      ],\n      //   发票抬头\n      invoiceHeader: [\n        {\n          title: \"个人\",\n          active: false,\n        },\n        {\n          title: \"单位\",\n          active: false,\n        },\n      ],\n      //   商品类型\n      goodsType: [\n        {\n          title: \"商品明细\",\n          active: false,\n        },\n        {\n          title: \"商品类别\",\n          active: false,\n        },\n      ],\n    };\n  },\n  mounted() {\n    if (this.res) {\n      this.submitData.receiptTitle = this.res.receiptTitle;\n      this.submitData.taxpayerId = this.res.taxpayerId; //纳税人\n      this.submitData.receiptContent = this.res.receiptContent;\n      this.res.receiptContent == \"商品明细\"\n        ? (this.goodsType[0].active = true)\n        : (this.goodsType[1].active = true);\n      this.res.taxpayerId\n        ? (this.invoiceHeader[1].active = true)\n        : (this.invoiceHeader[0].active = true);\n    } else {\n      this.invoiceHeader[0].active = true;\n      this.goodsType[0].active = true;\n    }\n\n  },\n  methods: {\n    handleClickHeader(val, index, arr) {\n      arr = arr.map((item) => {\n        return (item.active = false);\n      });\n      val.active = true;\n    },\n    /**\n     * 监听关闭\n     */\n    close(val) {\n      this.$emit(\"callbackInvoice\", val);\n    },\n    submitInvoice() {\n      /**\n       * 验证\n       */\n      const { receiptTitle, taxpayerId, receiptContent } = this.submitData;\n\n      if (this.$u.test.isEmpty(receiptTitle)) {\n        uni.showToast({\n          title: \"请您填写发票抬头!\",\n          duration: 2000,\n          icon: \"none\",\n        });\n        return false;\n      }\n      if (\n        !this.$u.test.isEmpty(receiptTitle) &&\n        this.$u.test.isEmpty(taxpayerId) &&\n        this.invoiceHeader[1].active == true\n      ) {\n        uni.showToast({\n          title: \"请您填写纳税人识别号!\",\n          duration: 2000,\n          icon: \"none\",\n        });\n     \n        return false;\n      }\n\n      this.show = false;\n      this.close(this.submitData);\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.form-item {\n  display: flex;\n  margin: 30rpx 0;\n  align-items: center;\n  > span {\n    margin-right: 50rpx;\n  }\n}\n.submit {\n  width: 100%;\n  margin-top: 100rpx;\n  background: $main-color;\n  text-align: center;\n  line-height: 80rpx;\n  height: 80rpx;\n  margin: 100rpx auto 0 auto;\n  color: #f2f2f2;\n  border-radius: 100px;\n}\n.invoice-item {\n  margin-right: 30rpx;\n  color: #333;\n  font-weight: 24rpx;\n\n  padding: 12rpx 46rpx;\n  border-radius: 100px;\n  background: #eee;\n  min-width: 100rpx;\n  text-align: center;\n}\n.active {\n  font-weight: bold;\n  color: $main-color;\n  border: 2rpx solid $main-color;\n  background: rgba($color: $main-color, $alpha: 0.1);\n}\n.disabled {\n  color: #b5b5b6;\n}\n.wrapper {\n  padding: 30rpx;\n}\n.invoice-title {\n  margin-bottom: 30rpx;\n  font-weight: bold;\n  font-size: 30rpx;\n}\n.tips {\n  margin-top: 30rpx;\n  color: #999;\n  font-size: 24rpx;\n}\n.divider {\n  margin: 30rpx 0;\n  height: 1rpx;\n  border-bottom: 1px solid #f2f3f5;\n}\n.flex {\n  display: flex;\n}\n</style>\n","import mod from \"-!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setInvoice.vue?vue&type=style&index=0&id=234d6532&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setInvoice.vue?vue&type=style&index=0&id=234d6532&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1730077888601\n      var cssReload = require(\"D:/Software/Development/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}