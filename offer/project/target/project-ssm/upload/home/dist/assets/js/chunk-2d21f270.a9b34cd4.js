(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21f270"],{d938:function(e,i,s){"use strict";s.r(i);var t=function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_edit page_resume_submission",attrs:{id:"resume_submission_edit"}},[i("div",{staticClass:"warp"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row diy_edit_content_box"},[e.$check_field("set","regular_users")||e.$check_field("add","regular_users")||e.$check_field("get","regular_users")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(0),i("div",{staticClass:"diy_field diy_down"},[e.form["regular_users"]&&e.$check_field("set","regular_users")||!e.form["regular_users"]&&e.$check_field("add","regular_users")?i("select",{directives:[{name:"model",rawName:"v-model",value:e.form["regular_users"],expression:"form['regular_users']"}],attrs:{id:"form_regular_users",disabled:e.disabledObj["regular_users_isDisabled"]},on:{change:function(i){var s=Array.prototype.filter.call(i.target.options,(function(e){return e.selected})).map((function(e){var i="_value"in e?e._value:e.value;return i}));e.$set(e.form,"regular_users",i.target.multiple?s:s[0])}}},e._l(e.list_user_regular_users,(function(s){return i("option",{domProps:{value:s["user_id"]}},[e._v(" "+e._s(s["nickname"]+"-"+s["username"])+" ")])})),0):e.$check_field("get","regular_users")?i("span",[e._v(e._s(e.form["regular_users"]))]):e._e()])]):e._e(),e.$check_field("set","user_name")||e.$check_field("add","user_name")||e.$check_field("get","user_name")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(1),i("div",{staticClass:"diy_field diy_text"},[e.form["user_name"]&&e.$check_field("set","user_name")||!e.form["user_name"]&&e.$check_field("add","user_name")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.form["user_name"],expression:"form['user_name']"}],attrs:{type:"text",id:"form_user_name",placeholder:"请输入用户姓名",disabled:e.disabledObj["user_name_isDisabled"]},domProps:{value:e.form["user_name"]},on:{input:function(i){i.target.composing||e.$set(e.form,"user_name",i.target.value)}}}):e.$check_field("get","user_name")?i("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","user_gender")||e.$check_field("add","user_gender")||e.$check_field("get","user_gender")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(2),i("div",{staticClass:"diy_field diy_text"},[e.form["user_gender"]&&e.$check_field("set","user_gender")||!e.form["user_gender"]&&e.$check_field("add","user_gender")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.form["user_gender"],expression:"form['user_gender']"}],attrs:{type:"text",id:"form_user_gender",placeholder:"请输入用户性别",disabled:e.disabledObj["user_gender_isDisabled"]},domProps:{value:e.form["user_gender"]},on:{input:function(i){i.target.composing||e.$set(e.form,"user_gender",i.target.value)}}}):e.$check_field("get","user_gender")?i("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","contact_information")||e.$check_field("add","contact_information")||e.$check_field("get","contact_information")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(3),i("div",{staticClass:"diy_field diy_text"},[e.form["contact_information"]&&e.$check_field("set","contact_information")||!e.form["contact_information"]&&e.$check_field("add","contact_information")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.form["contact_information"],expression:"form['contact_information']"}],attrs:{type:"text",id:"form_contact_information",placeholder:"请输入联系方式",disabled:e.disabledObj["contact_information_isDisabled"]},domProps:{value:e.form["contact_information"]},on:{input:function(i){i.target.composing||e.$set(e.form,"contact_information",i.target.value)}}}):e.$check_field("get","contact_information")?i("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","enterprise_users")||e.$check_field("add","enterprise_users")||e.$check_field("get","enterprise_users")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(4),i("div",{staticClass:"diy_field diy_down"},[e.form["enterprise_users"]&&e.$check_field("set","enterprise_users")||!e.form["enterprise_users"]&&e.$check_field("add","enterprise_users")?i("select",{directives:[{name:"model",rawName:"v-model",value:e.form["enterprise_users"],expression:"form['enterprise_users']"}],attrs:{id:"form_enterprise_users",disabled:e.disabledObj["enterprise_users_isDisabled"]},on:{change:function(i){var s=Array.prototype.filter.call(i.target.options,(function(e){return e.selected})).map((function(e){var i="_value"in e?e._value:e.value;return i}));e.$set(e.form,"enterprise_users",i.target.multiple?s:s[0])}}},e._l(e.list_user_enterprise_users,(function(s){return i("option",{domProps:{value:s["user_id"]}},[e._v(" "+e._s(s["nickname"]+"-"+s["username"])+" ")])})),0):e.$check_field("get","enterprise_users")?i("span",[e._v(e._s(e.form["enterprise_users"]))]):e._e()])]):e._e(),e.$check_field("set","enterprise_id")||e.$check_field("add","enterprise_id")||e.$check_field("get","enterprise_id")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(5),i("div",{staticClass:"diy_field diy_text"},[e.form["enterprise_id"]&&e.$check_field("set","enterprise_id")||!e.form["enterprise_id"]&&e.$check_field("add","enterprise_id")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.form["enterprise_id"],expression:"form['enterprise_id']"}],attrs:{type:"text",id:"form_enterprise_id",placeholder:"请输入企业编号",disabled:e.disabledObj["enterprise_id_isDisabled"]},domProps:{value:e.form["enterprise_id"]},on:{input:function(i){i.target.composing||e.$set(e.form,"enterprise_id",i.target.value)}}}):e.$check_field("get","enterprise_id")?i("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","enterprise_name")||e.$check_field("add","enterprise_name")||e.$check_field("get","enterprise_name")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(6),i("div",{staticClass:"diy_field diy_text"},[e.form["enterprise_name"]&&e.$check_field("set","enterprise_name")||!e.form["enterprise_name"]&&e.$check_field("add","enterprise_name")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.form["enterprise_name"],expression:"form['enterprise_name']"}],attrs:{type:"text",id:"form_enterprise_name",placeholder:"请输入企业名称",disabled:e.disabledObj["enterprise_name_isDisabled"]},domProps:{value:e.form["enterprise_name"]},on:{input:function(i){i.target.composing||e.$set(e.form,"enterprise_name",i.target.value)}}}):e.$check_field("get","enterprise_name")?i("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","recruitment_positions")||e.$check_field("add","recruitment_positions")||e.$check_field("get","recruitment_positions")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(7),i("div",{staticClass:"diy_field diy_text"},[e.form["recruitment_positions"]&&e.$check_field("set","recruitment_positions")||!e.form["recruitment_positions"]&&e.$check_field("add","recruitment_positions")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.form["recruitment_positions"],expression:"form['recruitment_positions']"}],attrs:{type:"text",id:"form_recruitment_positions",placeholder:"请输入招聘职位",disabled:e.disabledObj["recruitment_positions_isDisabled"]},domProps:{value:e.form["recruitment_positions"]},on:{input:function(i){i.target.composing||e.$set(e.form,"recruitment_positions",i.target.value)}}}):e.$check_field("get","recruitment_positions")?i("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","job_classification")||e.$check_field("add","job_classification")||e.$check_field("get","job_classification")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(8),i("div",{staticClass:"diy_field diy_text"},[e.form["job_classification"]&&e.$check_field("set","job_classification")||!e.form["job_classification"]&&e.$check_field("add","job_classification")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.form["job_classification"],expression:"form['job_classification']"}],attrs:{type:"text",id:"form_job_classification",placeholder:"请输入职位分类",disabled:e.disabledObj["job_classification_isDisabled"]},domProps:{value:e.form["job_classification"]},on:{input:function(i){i.target.composing||e.$set(e.form,"job_classification",i.target.value)}}}):e.$check_field("get","job_classification")?i("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","work_city")||e.$check_field("add","work_city")||e.$check_field("get","work_city")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(9),i("div",{staticClass:"diy_field diy_text"},[e.form["work_city"]&&e.$check_field("set","work_city")||!e.form["work_city"]&&e.$check_field("add","work_city")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.form["work_city"],expression:"form['work_city']"}],attrs:{type:"text",id:"form_work_city",placeholder:"请输入工作城市",disabled:e.disabledObj["work_city_isDisabled"]},domProps:{value:e.form["work_city"]},on:{input:function(i){i.target.composing||e.$set(e.form,"work_city",i.target.value)}}}):e.$check_field("get","work_city")?i("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e(),e.$check_field("set","resume_file")||e.$check_field("add","resume_file")||e.$check_field("get","resume_file")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(10),i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"form_file_resume_file",title:"resume_file"},on:{change:function(i){return e.change_file(i.target.files,"resume_file")}}}),e.form["resume_file"]&&e.$check_field("set","resume_file")?i("div",{staticClass:"diy_field diy_img"},[i("label",{attrs:{for:"form_file_resume_file"}},[i("a",{staticStyle:{color:"rgb(64, 158, 255)"},attrs:{href:e.$fullUrl(e.form["resume_file"]),target:"_blank"}},[e._v("点击下载")])])]):!e.form["resume_file"]&&e.$check_field("add","resume_file")?i("div",{staticClass:"diy_field diy_img"},[e._m(11)]):e.$check_field("get","resume_file")?i("div",{staticClass:"diy_field diy_img"},[i("span",[e._v(e._s(e.form["resume_file"])+" ")])]):e._e()]):e._e(),e.$check_field("set","submission_time")||e.$check_field("add","submission_time")||e.$check_field("get","submission_time")?i("div",{staticClass:"form-item col-12 col-md-6"},[e._m(12),i("div",{staticClass:"diy_field diy_datetime"},[e.form["submission_time"]&&e.$check_field("set","submission_time")||!e.form["submission_time"]&&e.$check_field("add","submission_time")?i("input",{directives:[{name:"model",rawName:"v-model",value:e.form["submission_time"],expression:"form['submission_time']"}],attrs:{type:"datetime-local",disabled:e.disabledObj["submission_time_isDisabled"],id:"form_submission_time",placeholder:"请输入提交时间"},domProps:{value:e.form["submission_time"]},on:{input:function(i){i.target.composing||e.$set(e.form,"submission_time",i.target.value)}}}):e.$check_field("get","submission_time")?i("span",[e._v(e._s(e.form["${obj.name}"]))]):e._e()])]):e._e()]),i("div",{staticClass:"diy_edit_submit_box row"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"btn_box"},[i("button",{staticClass:"btn_submit",on:{click:function(i){return e.submit()}}},[e._v("提交")])])])])])])])},r=[function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 普通用户: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 用户姓名: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 用户性别: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 联系方式: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 企业用户: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 企业编号: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 企业名称: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 招聘职位: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 职位分类: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 工作城市: ")])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 简历文件: ")])])},function(){var e=this,i=e._self._c;return i("label",{attrs:{for:"form_file_resume_file"}},[i("div",{staticClass:"btn_add_img"},[i("span",[e._v("+")])])])},function(){var e=this,i=e._self._c;return i("div",{staticClass:"diy_title"},[i("span",[e._v(" 提交时间: ")])])}],_=s("c6e7"),a={mixins:[_["a"]],components:{},data(){return{url_get_obj:"~/api/resume_submission/get_obj?",url_add:"~/api/resume_submission/add?",url_set:"~/api/resume_submission/set?",oauth:{signIn:!0,user_group:[]},query:{regular_users:0,user_name:"",user_gender:"",contact_information:"",enterprise_users:0,enterprise_id:"",enterprise_name:"",recruitment_positions:"",job_classification:"",work_city:"",resume_file:"",submission_time:"",resume_submission_id:0},obj:{regular_users:0,user_name:"",user_gender:"",contact_information:"",enterprise_users:0,enterprise_id:"",enterprise_name:"",recruitment_positions:"",job_classification:"",work_city:"",resume_file:"",submission_time:(new Date).getTime(),resume_submission_id:0},form:{regular_users:0,user_name:"",user_gender:"",contact_information:"",enterprise_users:0,enterprise_id:"",enterprise_name:"",recruitment_positions:"",job_classification:"",work_city:"",resume_file:"",submission_time:(new Date).getTime(),resume_submission_id:0},disabledObj:{regular_users_isDisabled:!1,user_name_isDisabled:!1,user_gender_isDisabled:!1,contact_information_isDisabled:!1,enterprise_users_isDisabled:!1,enterprise_id_isDisabled:!1,enterprise_name_isDisabled:!1,recruitment_positions_isDisabled:!1,job_classification_isDisabled:!1,work_city_isDisabled:!1,resume_file_isDisabled:!1,submission_time_isDisabled:!1},list_user_regular_users:[],list_user_enterprise_users:[],field:"resume_submission_id"}},methods:{submit_check(e){return e.submission_time?null:"提交时间不能为空"},async get_list_user_regular_users(){var e=await this.$get("~/api/user/get_list?user_group=普通用户");e.result&&e.result.list?this.list_user_regular_users=e.result.list:e.error&&console.error(e.error)},async get_user_session_regular_users(){var e=this,i=await this.$get("~/api/user_group/get_obj?name=普通用户");if(i.result&&i.result.obj){var s=i.result.obj.source_table,t=e.$store.state.user.user_id;if(t){var r="~/api/"+s+"/get_obj?";this.$get(r,{user_id:e.$store.state.user.user_id},(function(i){if(i.result&&i.result.obj){var s=[];for(let e in i.result.obj)s.push(e);var r=[];for(let i in e.form)r.push(i);e.form["regular_users"]=t,e.disabledObj["regular_users_isDisabled"]=!0;for(var _=0;_<s.length;_++)if("examine_state"!==s[_]&&"examine_reply"!==s[_])for(var a=0;a<r.length;a++)if(s[_]===r[a]&&"regular_users"!==s[_]){e.form[r[a]]=i.result.obj[s[_]],e.disabledObj[r[a]+"_isDisabled"]=!0;break}}}))}}else i.error&&console.error(i.error)},async get_list_user_enterprise_users(){var e=await this.$get("~/api/user/get_list?user_group=企业用户");e.result&&e.result.list?this.list_user_enterprise_users=e.result.list:e.error&&console.error(e.error)},change_file(e,i){var s=new FormData;s.append("file",e[0]),this.$post("~/api/resume_submission/upload?",s,e=>{e.result?this.form[i]=e.result.url:e.error&&this.$toast(e.error.message)})},get_obj_before(e){var i=$.db.get("form");if(i){var s=[];for(let e in i)s.push(e);var t=[];for(let e in this.form)t.push(e);for(var r=0;r<s.length;r++)if("examine_state"!==s[r]&&"examine_reply"!==s[r])for(var _=0;_<t.length;_++)if(t[_]===s[r]){this.form[t[_]]=i[s[r]],this.obj[t[_]]=i[s[r]],this.disabledObj[t[_]+"_isDisabled"]=!0;break}}return this.form["submission_time"]&&-1===JSON.stringify(this.form["submission_time"]).indexOf("-")&&(this.form["submission_time"]=this.$toTime(parseInt(this.form["submission_time"]),"yyyy-MM-ddThh:mm")),$.db.del("form"),e},get_obj_after(e,i){i&&i(e)}},created(){this.get_user_session_regular_users(),this.get_list_user_regular_users(),this.get_list_user_enterprise_users()}},o=a,n=s("0b56"),l=Object(n["a"])(o,t,r,!1,null,null,null);i["default"]=l.exports}}]);