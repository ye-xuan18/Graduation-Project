<view class="wrapper _div data-v-210f4016"><u-navbar vue-id="00d7c09e-1" is-back="{{false}}" title="购物车" class="data-v-210f4016" bind:__l="__l" vue-slots="{{['right']}}"><view slot="right" class="_div data-v-210f4016"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="light-color edit _div data-v-210f4016" bindtap="__e">{{!isEdit?'编辑':'完成'}}</view></view></u-navbar><block wx:if="{{!loading&&(cartDetail.cartList==''||cartDetail.cartList==[]||!cartDetail)}}"><view class="empty data-v-210f4016"><image src="/static/emptyCart.png" mode="aspectFit" class="data-v-210f4016"></image><view class="empty-tips data-v-210f4016">空空如也<navigator class="navigator data-v-210f4016" url="/pages/tabbar/home/index" open-type="switchTab">随便逛逛></navigator></view></view></block><view class="content _div data-v-210f4016"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['box','box2','_div','data-v-210f4016',(item.m0)?'invalid':'']}}"><view class="tab data-v-210f4016"><view class="store-line data-v-210f4016"><u-checkbox-group class="store-line-check data-v-210f4016" vue-id="{{'00d7c09e-2-'+index}}" bind:__l="__l" vue-slots="{{['default']}}"><u-checkbox vue-id="{{('00d7c09e-3-'+index)+','+('00d7c09e-2-'+index)}}" shape="circle" active-color="{{lightColor}}" value="{{item.$orig.checked}}" data-event-opts="{{[['^change',[['checkboxChangeDP',['$0'],[[['cartDetail.cartList','',index]]]]]]]}}" bind:change="__e" class="data-v-210f4016" bind:__l="__l"></u-checkbox></u-checkbox-group><label data-event-opts="{{[['tap',[['navigateToStore',['$0'],[[['cartDetail.cartList','',index]]]]]]]}}" class="store-name wes store-line-desc _span data-v-210f4016" catchtap="__e">{{item.$orig.storeName}}</label><u-icon style="margin-left:10rpx;" vue-id="{{'00d7c09e-4-'+index}}" size="24" name="arrow-right" data-event-opts="{{[['^click',[['navigateToStore',['$0'],[[['cartDetail.cartList','',index]]]]]]]}}" bind:click="__e" class="data-v-210f4016" bind:__l="__l"></u-icon></view><block wx:if="{{item.$orig.canReceiveCoupon}}"><view data-event-opts="{{[['tap',[['navigateToCoupon',['$0'],[[['cartDetail.cartList','',index]]]]]]]}}" class="right-col data-v-210f4016" bindtap="__e"><view class="right-line _div data-v-210f4016"></view><label class="_span data-v-210f4016">领劵</label></view></block></view><block wx:for="{{item.l0}}" wx:for-item="skuItem" wx:for-index="i" wx:key="id"><u-swipe-action class="cart-item data-v-210f4016 vue-ref-in-for" vue-id="{{'00d7c09e-5-'+index+'-'+i}}" show="{{skuItem.$orig.selected}}" options="{{options}}" bg-color="#fff" index="{{i}}" data-ref="swiperAction" data-event-opts="{{[['^open',[['openAction',['$0'],[[['cartDetail.cartList','',index],['skuList','goodsSku.id',skuItem.$orig.goodsSku.id]]]]]],['^click',[['changeActionTab',['$0'],[[['cartDetail.cartList','',index],['skuList','goodsSku.id',skuItem.$orig.goodsSku.id]]]]]],['^longpress',[['changeActionTab',['$0'],[[['cartDetail.cartList','',index],['skuList','goodsSku.id',skuItem.$orig.goodsSku.id]]]]]]]}}" bind:open="__e" bind:click="__e" bind:longpress="__e" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{skuItem.g0!=0}}"><view class="_div data-v-210f4016"><block wx:if="{{skuItem.g1}}"><view class="_div data-v-210f4016"><block wx:if="{{item.$orig.promotionNotice}}"><view class="promotion-notice _div data-v-210f4016"><label class="tips _span data-v-210f4016">满减</label><label style="flex:10;" class="_span data-v-210f4016">{{item.$orig.promotionNotice}}</label></view></block></view></block></view></block><view class="{{['goods-row','data-v-210f4016',(skuItem.m1)?'invalid':'']}}"><view class="goods-config data-v-210f4016"><view class="data-v-210f4016"><block wx:if="{{skuItem.$orig.invalid==0&&!skuItem.$orig.errorMessage}}"><u-checkbox-group vue-id="{{('00d7c09e-6-'+index+'-'+i)+','+('00d7c09e-5-'+index+'-'+i)}}" class="data-v-210f4016" bind:__l="__l" vue-slots="{{['default']}}"><u-checkbox class="c-left data-v-210f4016" vue-id="{{('00d7c09e-7-'+index+'-'+i)+','+('00d7c09e-6-'+index+'-'+i)}}" shape="circle" active-color="{{lightColor}}" value="{{skuItem.$orig.checked}}" data-event-opts="{{[['^change',[['checkboxChange',['$0'],[[['cartDetail.cartList','',index],['skuList','goodsSku.id',skuItem.$orig.goodsSku.id]]]]]]]}}" bind:change="__e" bind:__l="__l"></u-checkbox></u-checkbox-group></block><block wx:else><label class="invalid _span data-v-210f4016" style="font-size:24rpx;">失效</label></block></view><u-image vue-id="{{('00d7c09e-8-'+index+'-'+i)+','+('00d7c09e-5-'+index+'-'+i)}}" border-radius="10" fade="{{true}}" width="160rpx" height="160rpx" src="{{skuItem.$orig.goodsSku.thumbnail}}" data-event-opts="{{[['^click',[['navigateToGoods',['$0'],[[['cartDetail.cartList','',index],['skuList','goodsSku.id',skuItem.$orig.goodsSku.id]]]]]]]}}" bind:click="__e" class="data-v-210f4016" bind:__l="__l"></u-image></view><view class="goods-content data-v-210f4016"><view data-event-opts="{{[['tap',[['navigateToGoods',['$0'],[[['cartDetail.cartList','',index],['skuList','goodsSku.id',skuItem.$orig.goodsSku.id]]]]]]]}}" class="sp-name _p data-v-210f4016" bindtap="__e">{{''+skuItem.$orig.goodsSku.goodsName+''}}</view><view class="sp-type _p data-v-210f4016" style="width:300rpx;">{{skuItem.$orig.goodsSku.simpleSpecs}}</view><block wx:if="{{skuItem.$orig.goodsSku.salesModel=='WHOLESALE'}}"><view class="sp-type _p data-v-210f4016">批发商品</view></block><view class="sp-number _p data-v-210f4016"><view class="sp-price data-v-210f4016"><view class="main-color _div data-v-210f4016">￥<label class="_span data-v-210f4016">{{skuItem.g2[0]}}</label><label class="_span data-v-210f4016">{{"."+skuItem.g3[1]}}</label></view></view><view class="data-v-210f4016"><uni-number-box class="uNumber data-v-210f4016" vue-id="{{('00d7c09e-9-'+index+'-'+i)+','+('00d7c09e-5-'+index+'-'+i)}}" min="{{1}}" max="{{999}}" value="{{skuItem.$orig.num}}" data-event-opts="{{[['^change',[['numChange',['$0'],[[['cartDetail.cartList','',index],['skuList','goodsSku.id',skuItem.$orig.goodsSku.id]]]]]],['^input',[['__set_model',['$0','num','$event',[]],[[['cartDetail.cartList','',index],['skuList','goodsSku.id',skuItem.$orig.goodsSku.id]]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></uni-number-box></view></view><block wx:if="{{skuItem.g4!=0}}"><view class="promotions-list _div data-v-210f4016"><block wx:if="{{skuItem.g5}}"><view class="promotions-item-seckill _div data-v-210f4016">距秒杀结束:<u-count-down vue-id="{{('00d7c09e-10-'+index+'-'+i)+','+('00d7c09e-5-'+index+'-'+i)}}" show-border="{{true}}" hide-zero-day="{{true}}" color="{{$mainColor}}" border-color="#ededed" font-size="24" timestamp="{{skuItem.m2}}" class="data-v-210f4016" bind:__l="__l"></u-count-down></view></block></view></block><block wx:if="{{!skuItem.$orig.checked&&skuItem.$orig.errorMessage}}"><view style="margin-left:20rpx;" class="_div data-v-210f4016">{{''+skuItem.$orig.errorMessage+''}}</view></block><view class="_p data-v-210f4016"></view></view></view></u-swipe-action></block></view></block></view><u-modal vue-id="00d7c09e-11" confirm-style="{{$root.a0}}" show-cancel-button="{{true}}" content="{{deleteContent}}" async-close="{{true}}" value="{{deleteShow}}" data-event-opts="{{[['^confirm',[['deleteConfirm']]],['^input',[['__set_model',['','deleteShow','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-210f4016" bind:__l="__l"></u-modal><view class="box box6 _div data-v-210f4016"><view class="navL data-v-210f4016"><u-checkbox vue-id="00d7c09e-12" shape="circle" active-color="{{lightColor}}" label-size="24" value="{{checkout}}" data-event-opts="{{[['^change',[['checkOut']]],['^input',[['__set_model',['','checkout','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-210f4016" bind:__l="__l" vue-slots="{{['default']}}">全选</u-checkbox><label class="price _span data-v-210f4016"><view class="prices _div data-v-210f4016"><view class="fullPrice _div data-v-210f4016"><block wx:if="{{cartDetail&&cartDetail.priceDetailDTO}}"><label class="number _span data-v-210f4016">总计:<label class="_span data-v-210f4016">{{"¥"+$root.g6[0]}}</label>.<label class="_span data-v-210f4016">{{$root.g7[1]}}</label></label></block><block wx:else><label class="number _span data-v-210f4016">总计:0.00</label></block></view><block wx:if="{{$root.g8}}"><view class="discountPrice _div data-v-210f4016"><label class="_span data-v-210f4016">{{"优惠减:￥"+$root.f0+''}}</label><label data-event-opts="{{[['tap',[['discountDetails',['$event']]]]]}}" class="discount-details _span data-v-210f4016" bindtap="__e">优惠明细</label></view></block></view></label></view><u-popup bind:input="__e" vue-id="00d7c09e-13" z-index="3" close="{{true}}" mode="bottom" height="50%" closeable="{{true}}" border-radius="20" value="{{discountDetailsFlag}}" data-event-opts="{{[['^input',[['__set_model',['','discountDetailsFlag','$event',[]]]]]]}}" class="data-v-210f4016" bind:__l="__l" vue-slots="{{['default']}}"><view class="discount-list _div data-v-210f4016"><view class="discount-title data-v-210f4016">优惠明细</view><view class="discount-way _div data-v-210f4016"><block wx:if="{{cartDetail.priceDetailDTO}}"><view class="discount-item _div data-v-210f4016"><label class="_span data-v-210f4016">商品总额</label><label class="_span data-v-210f4016">{{"￥"+$root.f1}}</label></view></block><block wx:if="{{cartDetail.priceDetailDTO}}"><view class="discount-item _div data-v-210f4016"><label class="_span data-v-210f4016">优惠券</label><label class="_span data-v-210f4016">{{"-￥"+$root.f2}}</label></view></block><block wx:if="{{cartDetail.priceDetailDTO}}"><view class="discount-item _div data-v-210f4016"><label class="_span data-v-210f4016">其他优惠</label><label class="_span data-v-210f4016">{{"-￥"+$root.f3}}</label></view></block></view></view></u-popup><block wx:if="{{isEdit}}"><view data-event-opts="{{[['tap',[['deleteGoods']]]]}}" bindtap="__e" class="data-v-210f4016"><view class="settlement _div data-v-210f4016">删除</view></view></block><block wx:else><view data-event-opts="{{[['tap',[['submitOrder']]]]}}" bindtap="__e" class="data-v-210f4016"><view class="settlement _div data-v-210f4016">去结算</view></view></block></view><u-toast vue-id="00d7c09e-14" data-ref="uToast" class="data-v-210f4016 vue-ref" bind:__l="__l"></u-toast></view>